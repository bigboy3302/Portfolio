.flip-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 1rem;
}
@media (max-width: 900px){ .flip-grid{ grid-template-columns: 1fr 1fr; } }
@media (max-width: 640px){ .flip-grid{ grid-template-columns: 1fr; } }

.flip3d{ width: 100%; height: 320px; perspective: 1100px; }

.flip3d-inner{
  position: relative; height: 100%; width: 100%;
  transform-style: preserve-3d;
  transition: transform 650ms cubic-bezier(.22,1,.36,1);
  border-radius: 1.25rem;
  box-shadow: 0 18px 50px var(--shadow);
  outline: none;
}
.flip3d-inner:hover, .flip3d-inner:focus-visible{ transform: rotateY(180deg); }
.flip3d-inner.reduced{ transition: none; }

.flip3d-face{
  position: absolute; inset: 0;
  display: grid; place-items: end stretch;
  border-radius: inherit; overflow: hidden; backface-visibility: hidden;
  border: 1px solid rgba(255,255,255,.10);
}
.flip3d-front{
  background: var(--flip-gradient, linear-gradient(135deg, var(--accent), var(--accent-2)));
}
.flip3d-back{ transform: rotateY(180deg); }

.flip3d-img{
  position: absolute; inset: 0; width: 100%; height: 100%;
  object-fit: cover; filter: saturate(1.05) contrast(1.05);
}

.flip3d-face::before{
  content:""; position:absolute; inset:0; border-radius:inherit;
  background: var(--flip-gradient, linear-gradient(135deg, var(--accent), var(--accent-2)));
  mix-blend-mode: overlay; opacity: .55;
}

.flip3d-overlay{
  position: relative; z-index: 1; padding: 1rem;
  color: #eef2ff; background: linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.45));
}

.flip-title{ font-size: clamp(1.1rem, 2vw, 1.5rem); font-weight: 800; }
.flip-sub{ color: #cbd5e1; font-size: .95rem; }

.flip3d-inner:not(.reduced):hover{ box-shadow: 0 22px 60px rgba(0,0,0,.45); }
.flip3d-inner:focus-visible{ box-shadow: 0 0 0 3px rgba(6,182,212,.45), 0 18px 50px var(--shadow); }
